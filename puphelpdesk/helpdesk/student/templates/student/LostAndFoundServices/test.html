{% extends "student\partials\main.html" %}
{% load static %}
{% block customcss %}
<link href="{% static 'assets/css/student/LostAndFoundServices/NewReportLost.css' %}" rel="stylesheet">
{% endblock %}
{% block maincontent %}
<style>
    .post-container {
        margin: 20px;
    }
    
    #post-text {
        width: 100%;
    }
    
    #post-button {
        margin-top: 10px;
    }
    
    .post {
        border: 1px solid #ccc;
        padding: 10px;
        margin-top: 10px;
    }
    
    .edit-button {
        cursor: pointer;
        color: blue;
        text-decoration: underline;
    }
</style>
<body>
    <div class="post-container">
        <textarea id="post-text" rows="4" cols="50" placeholder="What's on your mind?"></textarea>
        <button id="post-button">Post</button>
    </div>
    <div class="post-list" id="post-list">
        <!-- Display posted content here -->
    </div>
</body>



<script>
    let posts = [];

// Function to add a new post
function addPost() {
    const postText = document.getElementById('post-text').value;
    if (postText) {
        const post = {
            text: postText,
            timestamp: new Date().toLocaleString(),
        };
        posts.push(post);
        displayPosts();
        document.getElementById('post-text').value = ''; // Clear the input field
    }
}

// Function to display posts
function displayPosts() {
    const postList = document.getElementById('post-list');
    postList.innerHTML = '';

    posts.forEach((post, index) => {
        const postElement = document.createElement('div');
        postElement.className = 'post';
        postElement.innerHTML = `
            <p>${post.text}</p>
            <small>${post.timestamp}</small>
            <span class="edit-button" onclick="editPost(${index})">Edit</span>
        `;
        postList.appendChild(postElement);
    });
}

// Function to edit a post
function editPost(index) {
    const updatedText = prompt('Edit your post:', posts[index].text);
    if (updatedText !== null) {
        posts[index].text = updatedText;
        displayPosts();
    }
}

document.getElementById('post-button').addEventListener('click', addPost);
displayPosts();
</script>
{% endblock %}